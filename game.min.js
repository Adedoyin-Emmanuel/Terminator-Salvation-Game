const canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d");var animateId,player,tank,tiles,groundY,gameSpeed=15,backgroundSpeed=Math.floor(gameSpeed/3),backgroundImageWidth=990,backgroundImage=new Image;backgroundImage.src="sky_background_mountains.png";var backgroundX=0,backgroundX2=backgroundImageWidth,enemies,worldSpeed=0,keyDown=!1,keyUp=!1,movingRight=!1,movingLeft=!1,grass=new Image;grass.src="grassBackground.png";var grassBackgroundWidth=4171,grassBackgroundX=0,grassBackgroundX2=grassBackgroundWidth,bullets,planes,planesRandomFrame=0,birds,lifeBar,birdsRandomFrame=50,house=new Image,grassMonsters,ravens;house.png="house.png";var shootingValue=73,explosions,hoverBoard,grassBackgroundSpeed=Math.floor(gameSpeed),playerCollideHoverBoard,msgs=[],powerUps,score=0,playerLogo,playingGame=!1,bgLevel=1,enemyLifeBar,randomSpeed=200,onGameGui=!0,playerHarmed=!1,shot=!1,scoreBox=document.getElementById("scoreBox"),enemyKilled=0,ENEMY_STATS_INFO,playerLifeState="Active..",BULLET_POWERUP_SPEED=gameSpeed*randomNumber(7,5);let highScore=localStorage.getItem("TerminatorHighScore")||0,highScoreMsg="Your HighScore Is "+highScore,brokenHighScore=!1;function changeHighScore(){score>localStorage.getItem("TerminatorHighScore")&&(brokenHighScore=!0,localStorage.setItem("TerminatorHighScore",score),highScore=score,highScoreMsg="Your Current HighScore Is "+highScore)}class PlayerStats{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height,this.image=new Image,this.image.src="playerStats.png",this.draw=()=>{ctx.drawImage(this.image,this.x,this.y,this.width,this.height)},this.update=()=>{this.draw()}}}var playerStats=new PlayerStats(innerWidth-400,5,400,100);class PlayerStatsInfo{constructor(text,color,y){this.text=text,this.color=color,this.x=playerStats.x+200,this.y=y,this.draw=()=>{ctx.save(),ctx.font="20px Comic Sans MS",ctx.textAlign="center",ctx.fillStyle=this.color,ctx.fillText(this.text,this.x,this.y),ctx.restore()},this.update=()=>{this.draw()}}}class GAME_LEVEL{constructor(score){if(null==typeof score||null==typeof score||""==typeof score)throw new Error("Score Is Not Defined");switch(this.score=score,this.allLevels=12,this.playing=!1,this.playingLevelOne=!1,this.playingLevelTwo=!1,this.playingLevelThree=!1,this.playingLevelFour=!1,this.playingLevelFive=!1,this.playingLevelSix=!1,this.playingLevelSeven=!1,this.playingLevelEight=!1,this.playingLevelNine=!1,this.playingLevelTen=!1,this.playingLevelEleven=!1,this.playingLevelTwelve=!1,this.nextLevel=void 0,this.gameEnd=!1,this.nextLevelCheck=!1,this.totalBackground=12,this.defaultBackground=1,this.currentBackground=2,this.currentLevel=void 0,this.currentMessage=!1,this.messageVelocity={dx:5,dy:5},this.nextMessagePush=`Welcome To ${this.nextLevel} Try To Survive The Aliens...`,this.nextLevelNumber=1,this.gameSpeed=gameSpeed,this.worldFrame=0,this.randomFrame=randomNumber(200,100),this.gameType={easy:!1,normal:!1,hard:!1},this.checkScore=score=>{score>200&&(this.nextLevelNumber=2,this.nextLevel=2),score>400&&(this.nextLevelNumber=3,this.nextLevel=3)},this.currentLevel){case 1:this.gameSpeed=10,this.playingLevelOne=!0,this.currentBackground=1,this.gameType.easy=!0;break;case 2:this.gameSpeed=12,this.playingLevelTwo=!0,this.currentBackground=2,this.gameType.easy=!0;break;case 3:this.gameSpeed=13,this.currentBackground=3,this.playingLevelThree=!0,this.gameType.easy=!0;break;case 4:this.gameSpeed=14,this.currentBackground=4,this.playingLevelFour=!0,this.gameType.easy=!0;break;case 5:this.gameSpeed=15,this.currentBackground=5,this.playingLevelFive=!0,this.gameType.normal=!0;break;case 6:this.gameSpeed=16,this.currentBackground=6,this.playingLevelSix=!0,this.gameType.normal=!0;break;case 7:this.gameSpeed=16,this.currentBackground=7,this.playingLevelSeven=!0,this.gameType.normal=!0;break;case 8:this.gameSpeed=17,this.currentBackground=8,this.playingLevelEight=!0,this.gameType.normal=!0;break;case 9:this.gameSpeed=18,this.currentBackground=9,this.playingLevelNine=!0,this.gameType.hard=!0;break;case 10:this.gameSpeed=19,this.currentBackground=10,this.playingLevelTen=!0,this.gameType.hard=!0;break;case 11:this.gameSpeed=20,this.currentBackground=11,this.playingLevelEleven=!0,this.gameType.hard=!0;break;case 12:this.gameSpeed=20,this.currentBackground=12,this.playingLevelTwelve=!0,this.gameType.hard=!0}this.franticLevel=()=>{},this.nextLevel=currentLevel=>{switch(this.currentLevel){case 1:this.playingLevelOne=!0,this.checkScore(),this.playingLevelOne=!1,this.playingLevelTwo=!0,THROW_MSG(canvas.width/2,canvas.height/2,this.nextMessagePush,"aqua",10);break;case 2:this.playingLevelTwo=!0;break;case 3:this.playingLevelThree=!0;break;case 4:this.playingLevelFour=!0;break;case 5:this.playingLevelFive=!0;break;case 6:this.playingLevelSix=!0;break;case 7:this.playingLevelSeven=!0;break;case 8:this.playingLevelEight=!0;break;case 9:this.playingLevelNine=!0;break;case 10:this.playingLevelTen=!0;break;case 11:this.playingLevelEleven=!0;break;case 12:this.playingLevelTwelve=!0;break;default:THROW_CUSTOM_MESSAGE("Error","Something Occured During The Process",5e3,"error",()=>{location.reload()},()=>{location.reload()})}}}}var ALL_GAME_LEVELS=new GAME_LEVEL(score),levelOne=document.getElementById("levelOne"),levelTwo=document.getElementById("levelTwo"),levelThree=document.getElementById("levelThree"),levelFour=document.getElementById("levelFour"),levelFive=document.getElementById("levelFive"),levelSix=document.getElementById("levelSix"),levelSeven=document.getElementById("levelSeven"),levelEight=document.getElementById("levelEight"),levelNine=document.getElementById("levelNine"),levelTen=document.getElementById("levelTen"),levelEleven=document.getElementById("levelEleven"),levelTwelve=document.getElementById("levelTwelve"),playing=!1,highScoreButton=document.getElementById("highScore"),moreLevels=document.getElementById("moreLevels"),aboutUs=document.getElementById("aboutUs"),gameGUI=document.getElementById("gameGUI"),playingLevelOne=!1,playingLevelTwo=!1,playingLevelThree=!1,playingLevelFour=!1,playingLevelFive=!1,playingLevelSix=!1,playingLevelSeven=!1,playingLevelEight=!1,playingLevelNine=!1,playingLevelTen=!1,playingLevelEleven=!1,playingLevelTwelve=!1;function GAME_SETUP(){gameGUI.style.display="none",canvas.style.display="block",scoreBox.style.display="flex",playingGame=!0,onGameGui=!1,document.documentElement.requestFullscreen()}levelOne.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level One","Do You Want To Play Level One??",5e3,"info",()=>{playing=!0,GAME_SETUP(),gameSpeed=5,playingLevelOne=!0,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),levelTwo.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level Two","Do You Want To Play Level Two??",5e3,"info",()=>{playing=!0,GAME_SETUP(),gameSpeed=7,playingLevelTwo=!0,bgLevel=2,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),levelThree.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level Three","Do You Want To Play Level Three??",5e3,"info",()=>{playing=!0,GAME_SETUP(),gameSpeed=8,playingLevelThree=!0,bgLevel=3,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),levelFour.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level Four","Do You Want To Play Level four??",5e3,"info",()=>{playing=!0,GAME_SETUP(),playingLevelFour=!0,gameSpeed=10,bgLevel=4,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),levelFive.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level five","Do You Want To Play Level five??",5e3,"info",()=>{playing=!0,GAME_SETUP(),gameSpeed=12,playingLevelFive=!0,bgLevel=5,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),levelSix.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level Six","Do You Want To Play Level Six??",5e3,"info",()=>{playing=!0,GAME_SETUP(),gameSpeed=14,playingLevelSix=!0,bgLevel=6,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),levelSeven.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level Seven","Do You Want To Play Level Seven??",5e3,"info",()=>{playing=!0,GAME_SETUP(),gameSpeed=15,playingLevelSeven=!0,bgLevel=7,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),levelEight.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level Eight","Do You Want To Play Level Eight??",5e3,"info",()=>{playing=!0,GAME_SETUP(),gameSpeed=15.5,playingLevelEight=!0,bgLevel=8,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),levelNine.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level Nine","Do You Want To Play Level Nine??",5e3,"info",()=>{playing=!0,GAME_SETUP(),gameSpeed=15.6,playingLevelNine=!0,bgLevel=9,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),levelTen.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level Ten","Do You Want To Play Level Ten??",5e3,"info",()=>{playing=!0,GAME_SETUP(),gameSpeed=15.7,playingLevelTen=!0,bgLevel=10,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),levelEleven.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level Eleven","Do You Want To Play Level Eleven??",5e3,"info",()=>{playing=!0,GAME_SETUP(),gameSpeed=15.8,playingLevelEleven=!0,bgLevel=11,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),levelTwelve.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("Level Twelve","Do You Want To Play Level Twelve??",5e3,"info",()=>{playing=!0,GAME_SETUP(),gameSpeed=16,playingLevelTwelve=!0,bgLevel=12,SPAWN_ALL_GAME_OBJECT(),init(),animate()},()=>{})}),highScoreButton.addEventListener("click",()=>{playing=!0,swal.fire({title:"High Score",text:highScoreMsg,icon:"info",showCloseButton:!0,showCancelButton:!0,cancelButtonColor:"tomato",cancelButtonText:"Reset Highscore",footer:"Powered By EmmSoft Games EG<sup>TM</sup>"}).then(willProceed=>{willProceed.isConfirmed||willProceed.isDismissed&&swal.fire({title:"Reset Highscore",text:"Do You Want To Clear Your Current Highscore?? Note That Once Cleared, It Can't Be Recovered!!!",icon:"question",showCancelButton:!0,cancelButtonColor:"tomato",showCloseButton:!0,footer:"Powered By EmmSoft Games EG<sup>TM</sup>"}).then(willDelete=>{willDelete.isConfirmed&&(localStorage.removeItem("TerminatorHighScore"),swal.fire({title:"Highscore Cleared",text:"Your Highscore Have Been Set Back To Default Which Is Zero!!!",icon:"success",timer:5e3,showCancelButton:!0,cancelButtonColor:"tomato",showConfirmButton:!0,showCloseButton:!0,footer:"Powered By EmmSoft Games EG<sup>TM</sup>"}).then(willProceed=>{location.reload(),willProceed.isConfirmed&&location.reload(),willProceed.isDismissed&&location.reload()}))})})}),moreLevels.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("More Levels","Are You Ready For Frantic Levels",5e3,"info",()=>{THROW_CUSTOM_MESSAGE("Coming Soon","Frantic Levels Are Not Avaliable Now...",5e3,"info",()=>{},()=>{})},()=>{})}),aboutUs.addEventListener("click",()=>{THROW_CUSTOM_MESSAGE("About Us","Do You Want To View The Game Documentations And Also How To Play The Game??",5e3,"info",()=>{playing=!0,onGameGui=!1,location.href="aboutUS.html"},()=>{})});var randomSpawnNumber1=randomNumber(6e3,4e3),randomNumber2=randomNumber(12e3,9e3),randomNumber3=randomNumber(3e3,2e3),randomNumber4=randomNumber(35e3,3e4),randomNumber5=randomNumber(3e4,25e3);function SPAWN_ALL_GAME_OBJECT(){playing&&(setInterval(()=>{spawnEnemies(),enemyLifeBar.color="gold",THROW_MSG(canvas.width/2,canvas.width/2,"Aliens Incoming !!!","red",7),enemyLifeBar.width=50,insectSoundWalking.play(),randomSpawnNumber1=randomNumber(6e3,4e3)},randomSpawnNumber1),setInterval(()=>{spawnBirds(),randomNumber2=randomNumber(12e3,9e3)},randomNumber2),setInterval(()=>{spawnMonsters(),monsterSoundWalking.play(),randomNumber3=randomNumber(3e3,2e3)},randomNumber3),setInterval(()=>{spawnPlanes(),THROW_MSG(canvas.width/2,canvas.height/2,"Plane Incoming !!!","red",7),randomNumber4=randomNumber(35e3,3e4)},randomNumber4),setInterval(()=>{spawnPowerUps(),randomNumber5=randomNumber(3e4,25e3)},randomNumber5))}var randomSpeed2=300,randomSpeed3=400,randomSpeed4=500,randomSpeed5=450,GAME_GUI_SONG=new Audio;function GAME_GUI_BACKGROUND_SONG_PLAY(){}function RANDOM_SPAWN(){worldSpeed%randomSpeed&&(spawnEnemies(),enemyLifeBar.color="gold",THROW_MSG(canvas.width/2,canvas.width/2,"Aliens Incoming !!!","red",7),enemyLifeBar.width=50,insectSoundWalking.play(),randomSpeed=randomNumber(300,200)),worldSpeed%randomSpeed2&&(spawnMonsters(),monsterSoundWalking.play(),randomSpeed2=randomNumber(200,100)),worldSpeed%randomSpeed3&&(spawnBirds(),randomSpeed3=randomNumber(400,350)),worldSpeed%randomSpeed4&&(spawnPlanes(),randomSpeed4=randomNumber(500,400)),worldSpeed%randomSpeed5&&(spawnPowerUps(),randomSpeed5=randomNumber(550,500))}GAME_GUI_SONG.src="gameGuiBackgroundSound.mp3";class LifeBar{constructor(x,y,width,height,color){this.x=x,this.y=y,this.width=width,this.height=height,this.color=color,this.draw=()=>{ctx.save(),ctx.fillStyle=this.color,ctx.shadowColor=this.color,ctx.shadowBlur=20,ctx.strokeStyle=this.color,ctx.fillRect(this.x,this.y,this.width,this.height),ctx.strokeRect(this.x,this.y,this.width,this.height),ctx.restore()},this.update=()=>{this.draw()}}}var color="blue",width=270,enemyLifeColor="gold";lifeBar=new LifeBar(30,110,width,20,color),enemyLifeBar=new LifeBar(void 0,void 0,50,10,enemyLifeColor);class PlayerState{constructor(){this.currentState=["idle","dead","jump","shoot","slide","run"],this.defaultCurrentstate="idle",this.currentStateWidth=400,this.currentStateHeight=100,this.currentStateXCoordinate=305-canvas.width,this.currentStateYCoordinate=5,this.currentStateImage=new Image,this.currentStateImage.src="playerLogo.png",this.draw=()=>{ctx.drawImage(this.currentStateImage,this.currentStateXCoordinate,this.currentStateYCoordinate,this.currentStateWidth,this.currentStateHeight)},this.update=()=>{this.draw()}}}playerLogo=new PlayerState;var songArray=["song1.mp4","song2.mp4","song3.mp4","song4.mp4","song5.mp4","song6.mp4","song7.mp4","song8.mp4","song9.mp4","song10.mp4","song11.mp4","song12.pm4","song13.mp4"],backgroundSong;function randomSong(songArray){return songArray[Math.floor(Math.random()*songArray.length)]}addEventListener("resize",()=>{canvas.width=innerWidth,canvas.height=innerHeight,init()}),addEventListener("load",()=>{canvas.width=innerWidth,canvas.height=innerHeight,document.body.style.fontFamily="corbel",swal.fire({title:"Welcome To Terminator Salvation....",text:"Made By Adedoyin Emmanuel... Try To Save Your Planet From The Aliens!!",footer:"Powered By EmmSoft Games EG<sup>TM</sup>",showCancelButton:!0,showCloseButton:!0}).then(willProceed=>{willProceed?swal.fire({title:"Start Playing..",text:"Thanks For Playing My Game...",footer:"Powered By EmmSoft Games EG<sup>TM</sup>",showCloseButton:!0,timer:5e3,showCancelButton:!0}):swal.fire({title:"Start Playing..",text:"Thanks For Playing My Game...",footer:"Powered By EmmSoft Games EG<sup>TM</sup>",showCloseButton:!0,showCancelButton:!0,timer:5e3})}),init()});var birdSound={volume:1,flying:"birdCry.wav",dead:"birdDeath.flac"},birdSoundFlying=new Audio;birdSoundFlying.src=birdSound.flying;var birdSoundDead=new Audio;birdSoundDead.src=birdSound.dead;var randomInsectMonsterWalkSound=["insectMonsterWalking1.wav","insectMonsterWalking2.wav"],randomInsectMonsterDeadSound=["insectMonsterDead1.wav","insectMonsterDead2.wav"],insectSoundWalking=new Audio,insectSoundDead=new Audio,playerWalking=new Audio,playerJumping=new Audio,playerShooting=new Audio,playerSliding=new Audio,playerDead=new Audio,monsterSoundArray=["monster-1","monster-2","monster-3","monster-4","monster-5","monster-6","monster-7","monster-8","monster-9"],monsterSound={volume:1,walking:randomSound(monsterSoundArray)+".wav",dead:"pain2.ogg"},monsterSoundWalking=new Audio;monsterSoundWalking.src=monsterSound.walking;var monsterSoundDead=new Audio;function CHECK_CURRENT_LEVEL(score){}function gameObjectColliding(object1,object2){return!(object1.x>object2.x+object2.width||object1.x+object1.width<object2.x||object1.y>object2.y+object2.height||object1.y+object1.height<object2.y)}function randomSound(soundArray){return soundArray[Math.floor(Math.random()*soundArray.length)]}monsterSoundDead.src=monsterSound.dead;var deadSound=new Audio,deadSoundArray=["pain1.ogg","pain3.ogg","pain4.ogg","pain5.ogg","pain6.ogg","pain7.ogg","pain8.ogg","pain9.ogg","pain10.ogg","pain11.ogg","pain12.ogg","pain13.ogg","pain14.ogg"];function getDistance(x1,y1,x2,y2){let x=x1-x2,y=y2-y1;return Math.sqrt(Math.pow(x,2)+Math.pow(y,2))}function randomNumber(max,min){return Math.floor(Math.random()*(max-min+1))+min}function getVerTicalDistance(y1,y2){var verticalDistance;return y2-y1}function randomMonsters(monsterArray){return monsterArray[Math.floor(Math.random()*monsterArray.length)]}function THROW_CUSTOM_MESSAGE(title,body,timer,icon,resolve,reject){this.title=title,this.body=body,this.icon=icon,this.timer=timer,this.resolve=resolve,this.reject=reject,this.fontFamily="corbel",document.body.style.fontFamily=this.fontFamily;try{if(null==typeof this.title||null==typeof this.body||null==typeof this.timer||null==typeof this.icon)throw new Error("Arguments Must Be Complete")}catch(error){console.log(error.stack)}swal.fire({title:this.title,text:this.body,icon:this.icon,timer:this.timer,footer:"Powered By EmmSoft Game Studios<sup>TM</sup>",showCancelButton:!0,showCloseButton:!0}).then(willProceed=>{willProceed.isConfirmed?this.resolve():this.reject()})}function isPlayerGrounded(player){var groundDistance=70,groundX=innerWidth,distance;switch(groundY=innerHeight-70,Math.floor(getVerTicalDistance(player.y,groundY))){case 114:case 115:case 113:case 123:case 122:case 121:case 120:case 118:case 119:case 117:case 116:case 115:return!0;default:return!1}}function randomNumber(max,min){return Math.floor(Math.random()*(max-min+1))+min}deadSound.src=randomSound(deadSoundArray),addEventListener("keydown",e=>{switch(e.keyCode){case 39:backgroundX-=gameSpeed,backgroundX2-=gameSpeed,movingRight=!0,movingLeft=!1;break;case 37:backgroundX+=gameSpeed,backgroundX2+=gameSpeed,movingRight=!1,movingLeft=!0}keyDown=!0}),addEventListener("keyup",e=>{keyUp=!0});class Tank{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height,this.radius=void 0,this.velocity={dx:5,dy:5},this.playerImageSwap={playerRight:"Freetank/wholetank/tankMoveRight.png",playerLeft:"Freetank/wholetank/tankMoveLeft.png"},this.image=new Image,this.image.src=this.playerImageSwap.playerRight,this.spriteWidth=256,this.spriteHeight=175,this.frame={dx:0,dy:0},this.newPosX=()=>{this.x=this.x+this.velocity.dx},this.newPosY=()=>{this.y=this.y+this.velocity.dy},this.draw=()=>{ctx.drawImage(this.image,this.spriteWidth*this.frame.dx,this.spriteHeight*this.frame.dy,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)},this.update=()=>{this.draw()}}}class Player{constructor(x,y){this.x=x,this.y=y,this.width=120,this.height=150,this.png=".png",this.life=100,this.dropTimer=0,this.velocity={dx:0,dy:0},this.maxHeight=400,this.gravity=10,this.friction=.9,this.frame={x:0,y:0},this.rotatedFrame={x:0,y:0},this.dead=!1,this.move={right:!1,left:!1,up:!1,down:!1},this.stateWidth={dead:void 0,attack:120.7,run:120.7,slide:120.7,idle:120.7,jump:120.7},this.stateHeight={dead:void 0,attack:120,run:120,slide:120,idle:120,jump:120},this.state={attack:"robotRunShoot",die:"robotDead",jump:"robotJump",idle:"robotIdle",run:"robotRun",slide:"robotSlide"},this.direction="right",this.defaultDirection="right",this.rotatedState={attack:"rotatedRobotRunShoot",die:"rotatedDead",jump:"rotatedRobotJump",idle:"rotatedRobotIdle",run:"rotatedRobotRun",slide:"rotatedRobotSlide"},this.rotatedIndex=["attack","die","jump","idle","run","slide"],this.grounded=!0,this.frameNumber=3,this.index=["attack","die","jump","idle","run","slide"],this.groundedDistance=innerHeight-70,this.groundPosY=this.groundedDistance-100,this.spriteWidth=this.stateWidth.idle,this.spriteHeight=this.stateHeight.idle,this.image=new Image,this.jumpRate=5*gameSpeed,this.radius=30,this.shooting=!1,this.maxFrame=10,this.minFrame=0,this.dead=!1,this.randomPlayerDeadSound=["pain1.ogg","pain3.ogg","pain4.ogg","pain5.ogg","pain6.ogg","pain7.ogg","pain8.ogg","pain9.ogg","pain10.ogg","pain11.ogg","pain12.ogg","pain13.ogg","pain14.ogg"],this.playerSound={volume:1,walking:"playerWalking.flac",jumping:"playerJump.wav",shooting:"playerShoot.wav",dead:void 0,sliding:"playerWalking.flac"},this.GLOBAL_SPEED=2,playerWalking.src=this.playerSound.walking,playerJumping.src=this.playerSound.jumping,playerShooting.src=this.playerSound.shooting,playerSliding.src=this.playerSound.sliding,playerDead.src=this.playerSound.dead;try{this.draw=()=>{(this.defaultDirection="right")&&(this.move.right=!0),this.move.left&&(this.move.right=!1,this.image.src=this.rotatedState[this.rotatedIndex[this.frameNumber]]+this.png.toString()),this.move.right&&(this.move.left=!1,this.image.src=this.state[this.index[this.frameNumber]]+this.png.toString()),ctx.drawImage(this.image,this.frame.x*this.spriteWidth,this.frame.y*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)}}catch(error){throw new Error("something occurred while drawing the sprites...")}this.newPos=()=>{this.y=this.y+this.velocity.dy},this.reposition=()=>{this.y+=this.gravity,this.y>300&&(this.y+=this.gravity),this.y>=this.groundPosY&&(this.y=this.groundPosY)},this.jump=()=>{this.grounded=!1,this.velocity.dy=-this.jumpRate},this.update=()=>{this.draw(),this.frame.x++,this.frame.x==this.maxFrame&&(this.frame.x=this.minFrame),this.dead&&playerDead.play(),this.x=this.x+this.velocity.dx,this.newPos(),1==this.move.up&&this.reposition(),this.shooting&&playerShooting.play(),addEventListener("keydown",e=>{switch(e.keyCode){case 38:this.frameNumber=2,this.move.up=!0,this.jump();break;case 40:this.move.down=!0,this.frameNumber=5,this.move.right&&(this.velocity.dx=Math.floor(gameSpeed*this.GLOBAL_SPEED)),this.move.left&&(this.velocity.dx=Math.floor(-gameSpeed*this.GLOBAL_SPEED)),movingRight=!0,movingLeft=!1,playerWalking.play();break;case 39:this.move.right=!0,this.move.left=!1,this.move.down=!1,this.frameNumber=4,this.velocity.dx=Math.floor(gameSpeed*this.GLOBAL_SPEED),shootingValue=73,this.direction="right",playerWalking.play();break;case 37:this.image.src=this.rotatedState.idle+this.png,this.move.left=!0,this.move.right=!1,this.frameNumber=4,this.velocity.dx=-Math.floor(gameSpeed*this.GLOBAL_SPEED),shootingValue=-5,this.direction="left",playerWalking.play();break;case 32:return}}),addEventListener("keyup",()=>{this.frameNumber=3,this.velocity.dx=0,this.velocity.dy=0,this.grounded=!0,this.move.up&&playerJumping.play(),this.shooting=!1})}}}canvas.width=innerWidth,canvas.height=innerHeight;class Enemy{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height,this.reposition={x:70,y:30},this.frame={x:0,y:0},this.velocity={dx:1.2*gameSpeed,dy:1.2*gameSpeed},this.image=new Image,this.spriteWidth=1214,this.spriteHeight=787,this.state={walking:"monsterWalking2",defeated:"monsterDead2"},this.defeatedWidth=1632,this.defeatedHeight=847,this.index=["walking","defeated"],this.frameNumber=0,this.direction="right",this.png=".png",this.dead=!1,this.maxFrame=21,this.minFrame=0,this.harmful=!0,this.randomWalkingSound=randomSound(randomInsectMonsterWalkSound),this.randomDeadSound=randomSound(randomInsectMonsterDeadSound),insectSoundWalking.src=this.randomWalkingSound,insectSoundDead.src=this.randomDeadSound,this.draw=()=>{ctx.save(),this.image.src=this.state[this.index[this.frameNumber]]+this.png,this.maxFrame=21,this.minFrame=0,this.spriteWidth=1214,this.spriteHeight=787,this.harmful=!0,ctx.drawImage(this.image,this.frame.x*this.spriteWidth,this.frame.y*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height),this.dead&&(this.frameNumber=1,this.spriteWidth=this.defeatedWidth,this.spriteHeight=this.defeatedHeight,this.maxFrame=26,this.minFrame=0,this.harmful=!1,insectSoundDead.play())},this.update=()=>{this.draw(),this.frame.x++,this.x+=-this.velocity.dx,this.frame.x==this.maxFrame&&(this.frame.x=this.minFrame)}}}class Bullet{constructor(){this.move={right:player.move.right,left:player.move.left},this.value=shootingValue,this.posChange={x:this.value,y:75},this.player={x:player.x+this.posChange.x,y:player.y+this.posChange.y},this.x=this.player.x,this.y=this.player.y,this.width=40,this.height=10,this.png=".png",this.image=new Image,this.velocity={dx:gameSpeed*randomNumber(5,3),dy:gameSpeed*randomNumber(5,3)},this.state={right:"bullet",left:"rotatedBullet"},this.index=["right","left"],this.frame={left:1,right:0},this.draw=()=>{this.move.left&&(this.image.src=this.state[this.index[this.frame.left]]+this.png),this.move.right&&(this.image.src=this.state[this.index[this.frame.right]]+this.png),ctx.drawImage(this.image,this.x,this.y,this.width,this.height)},this.update=()=>{this.move.left&&(this.x+=-this.velocity.dx),this.move.right&&(this.x+=this.velocity.dx),this.draw()}}}class Explosion{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height,this.frame={x:0,y:0},this.png=".png",this.image=new Image,this.image.src=" explosion"+this.png,this.velocity={dx:5,dy:5},this.spriteWidth=595.3333333333333,this.spriteHeight=512,this.draw=()=>{ctx.drawImage(this.image,this.frame.x*this.spriteWidth,this.frame.y*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)},this.update=()=>{this.draw(),this.frame.x++,3==this.frame.x&&(this.frame.x=0,this.frame.y++,3==this.frame.y&&2==this.frame.x&&(this.frame.x=0,this.frame.y=0),3==this.frame.y&&(this.frame.y=0))}}}class Bird{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height,this.velocity={dx:10,dy:5},this.angle=randomNumber(.5,.1),this.frame={x:0,y:0},this.spriteWidth=200.333,this.spriteHeight=205.333,this.image=new Image,this.image.src="bird.png",this.dead=!1,this.draw=()=>{ctx.drawImage(this.image,this.frame.x*this.spriteWidth,this.frame.y*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)},this.update=()=>{this.angle++,this.draw(),this.dead?(birdSoundDead.play(),birdSoundFlying.pause()):birdSoundFlying.play(),this.frame.x++,9==this.frame.x&&0==this.frame.y&&this.frame.x,8==this.frame.x&&(this.frame.x=0,this.frame.y++,3==this.frame.y&&(this.frame.y=0)),this.x+=this.velocity.dx+Math.cos(this.angle*Math.PI)}}}class GrassMonster{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height,this.png=".png",this.frame={x:0,y:0},this.velocity={dx:5,dy:5},this.spriteWidth=946,this.spriteHeight=821,this.state={walk:"grassMonsterWalking",dead:"grassMonsterDead"},this.maxFrame={x:13,y:0},this.index=["walk","dead"],this.frameNumber=0,this.image=new Image,this.draw=()=>{this.image.src=this.state[this.index[this.frameNumber]]+this.png,ctx.drawImage(this.image,this.frame.x*this.spriteWidth,this.frame.y*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)},this.update=()=>{this.draw(),this.x+=-this.velocity.dx,this.frame.x++,this.frame.x==this.maxFrame.x&&(this.frame.x=0)}}}class House{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height,this.angle=.1,this.velocity={dx:5,dx:5},this.png=".png",this.image=new Image,this.frame={x:1,y:0},this.draw=()=>{ctx.drawImage(this.image,this.x,this.y,this.width,this.height)},this.update=()=>{this.draw(),this.x+=this.velocity.dx}}}class Zombies{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height,this.angle=.1,this.velocity={dx:5,dx:5},this.png=".png",this.image=new Image,this.frame={x:1,y:0},this.draw=()=>{},this.update=()=>{this.draw(),this.x+=this.velocity.dx}}}var maxFrame=11,minFrame=0,monsters,bg;class Monsters{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height,this.direction="left",this.velocity={dx:6,dy:6},this.monsterArray=["monster1","monster2","monster3","monster4"],this.harmful=!0,this.dead=!1,this.monsterImage=randomMonsters(this.monsterArray),this.png=".png",this.image=new Image,this.image.src=this.monsterImage+this.png,this.index=["walk","run","attack","dead"],this.frameIndex=0,this.frame={x:minFrame,y:0},this.maxFrame=maxFrame,this.minFrame=minFrame,this.spriteWidth=720,this.spriteHeight=490,this.attackDistance=300,this.attacking=!0,this.draw=()=>{ctx.drawImage(this.image,this.frame.x*this.spriteWidth,this.frame.y*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)},this.update=()=>{this.draw(),this.distance=getDistance(this.x,this.y,player.x,player.y),this.dead&&(this.harmful=!1,this.velocity.dx=0,this.velocity.dy=0,monsterSoundDead.play()),this.frame.x++,this.frame.x==this.maxFrame&&(this.frame.x=this.minFrame),this.x+=this.velocity.dx}}}class Plane{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height,this.angle=.1,this.velocity={dx:5,dx:5},this.png=".png",this.image=new Image,this.frame={x:1,y:0},this.spriteWidth=443,this.spriteHeight=302,this.state={plane:"plane",plane:"plane"},this.stateIndex=["plane","plane"],this.draw=()=>{this.image.src=this.state.plane+this.png,ctx.drawImage(this.image,this.frame.x*this.spriteWidth,this.frame.y*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height),this.frame.x++,(this.frame.x=2)&&(this.frame.x=1)},this.update=()=>{this.draw(),this.x+=this.velocity.dx}}}class PowerUP{constructor(x,y){switch(this.x=x,this.y=y,this.type="",this.width=100,this.height=100,this.audio=new Audio,this.active=!1,this.taken=!1,this.audio.src="powerUp.wav",this.powerUpType={AI:!1,Boost:!1,Upgrade:!1,ScoreIncrement:!1,Replenish:!1},this.velocity={dx:5,dy:5},this.frame={x:0,y:0},this.powerUpImages=["bronzeMedal.png","silverMedal.png","goldMedal.png"],this.randomImage=images=>images[Math.floor(Math.random()*images.length)],this.image=new Image,this.state=["AI","Boost","Upgrade","ScoreIncrement","Replenish"],this.randomState=()=>this.state[Math.floor(Math.random()*this.state.length)],this.randomPowerUp=this.randomState(),this.spriteWidth=276,this.spriteHeight=254,this.frame={x:0,y:0},this.randomPowerUp){case"AI":this.type="AI",this.powerUpType.AI=!0;break;case"Boost":this.type="Boost",this.powerUpType.Boost=!0;break;case"Upgrade":this.type="Upgrade",this.powerUpType.Upgrade=!0;break;case"ScoreIncrement":this.type="ScoreIncrement",this.powerUpType.ScoreIncrement=!0;break;case"Replenish":this.type="Replenish",this.powerUpType.Replenish=!0;break;default:throw console.error("Typeof PowerUp Isn't Defined"),new Error("Type Of PowerUp Isn't Defined")}this.image.src=this.randomImage(this.powerUpImages),this.draw=()=>{ctx.drawImage(this.image,this.frame.x*this.spriteWidth,this.frame.y*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)},this.update=()=>{this.taken&&(this.active=!0),this.frame.x++,30==this.frame.x&&(this.frame.x=0),this.draw(),this.x+=this.velocity.dx}}}function playPowerUpSound(){powerUps.forEach(powerUp=>{powerUp.audio.play()})}class HoverBoard{constructor(x,y){this.x=x,this.y=y,this.width=100,this.height=80,this.velocity={dx:5,dy:5},this.gravity=4,this.image=new Image,this.image.src="hoverBoard2.png",this.groundPosY=innerHeight-100,this.reposition=()=>{this.y+=this.gravity,this.y>300&&(this.y+=this.gravity),this.y>=this.groundPosY&&(this.y=this.groundPosY)},this.draw=()=>{ctx.drawImage(this.image,this.x,this.y,this.width,this.height)},this.update=()=>{this.draw()}}}class Msg{constructor(x,y,text,color,speed){this.x=x,this.y=y,this.opacity=1,this.color=color,this.text=text,this.speed=speed,this.velocity={dx:2,dy:this.speed},this.draw=()=>{ctx.save(),ctx.globalAlpha=this.opacity,ctx.fillStyle=this.color,ctx.font="25px Comic Sans MS",ctx.textAlign="center",ctx.shadowColor=this.color,ctx.shadowBlur=20,ctx.fillText(this.text,this.x,this.y),ctx.restore()},this.update=()=>{this.draw(),this.y-=this.velocity.dy}}}class Raven{constructor(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height,this.velocity={dx:5,dy:5},this.png=".png",this.image=new Image,this.image.src="raven.png",this.spriteWidth=343,this.spriteHeight=300.66666,this.frame={x:0,y:0},this.draw=()=>{},this.update=()=>{this.draw(),this.x+=this.velocity.dx,this.frame.x++,3==this.frame.x&&(this.frame.x=0,this.frame.y++,3==this.frame.y&&(this.frame.y=0))}}}function init(){var x=canvas.width/2-300,y=canvas.height/2+50;enemies=[],player=new Player(x+20,y),bullets=[],planes=[],birds=[],grassMonsters=[],ravens=[],monsters=[],explosions=[];var lX=canvas.Width/2,lY=canvas.height/2;hoverBoard=new HoverBoard(canvas.width-200,canvas.height-10),powerUps=[],bg=new Background("bg"+bgLevel+".png",backgroundSpeed,1357)}function spawnEnemies(){let eWidth=200,eX=canvas.width,eY=canvas.height/2+260,eHeight=120;for(let i=0;i<1;i++)enemies.push(new Enemy(eX,eY,200,120))}function spawnMonsters(){let eWidth=150,eX=-canvas.width,eY=canvas.height/2+250,eHeight=120;for(let i=0;i<1;i++)monsters.push(new Monsters(eX,eY,150,120))}function spawnLifeBar(){for(let i=0;i<1;i++)lifeBar.push(new LifeBar(300-canvas.width,70,300,20,"blue"))}function spawnPowerUps(){for(let i=0;i<1;i++){let x=-canvas.width,y=randomNumber(canvas.height-350,10);powerUps.push(new PowerUP(x,y))}}function spawnGrassMonster(){let eWidth=200,eX=canvas.width,eY=canvas.height/2+160,eHeight=120;for(let i=0;i<1;i++)grassMonsters.push(new GrassMonster(eX,eY,200,120))}function spawnExplosion(x,y){this.x=x,this.y=y,this.width=100,this.height=100;for(let i=0;i<1;i++)explosions.push(new Explosion(this.x,this.y,this.width,this.height))}function THROW_MSG(x,y,text,color,speed){this.x=x,this.y=y,this.text=text,this.color=color,this.speed=speed;for(let i=0;i<1;i++)msgs.push(new Msg(this.x,this.y,this.text,this.color,this.speed))}function spawnBirds(){for(let i=0;i<1;i++){let x=-canvas.width,y=randomNumber(canvas.height-350,10),width=randomNumber(200,150),height=randomNumber(120,100);birds.push(new Bird(x,y,width,height))}}function spawnRavens(){for(let i=0;i<1;i++){let x=-canvas.width,y=randomNumber(canvas.height-300,300),width=randomNumber(170,110),height=randomNumber(90,70);ravens.push(new Raven(x,y,width,height))}}function spawnPlanes(){let pWidth=120,pX=-canvas.width,pY=randomNumber(canvas.height-350,10),pHeight=60;for(let i=0;i<1;i++)planes.push(new Plane(pX,pY,120,60))}(backgroundSong=document.createElement("video")).src=randomSong(songArray);class Background{constructor(img,gameSpeed,backgroundWidth){this.img=img,this.image=new Image,this.image.src=this.img,this.gameSpeed=gameSpeed,this.speedMod=randomNumber(2.5,1.5),this.speed=this.speedMod*this.gameSpeed,this.backgroundWidth=backgroundWidth,this.x=0,this.x2=this.backgroundWidth,this.y=0,this.width=innerWidth,this.height=innerHeight,this.draw=()=>{ctx.drawImage(this.image,this.x,this.y,this.width,this.height),ctx.drawImage(this.image,this.x2,this.y,this.width,this.height)},this.update=()=>{this.draw(),this.x<-this.backgroundWidth&&(this.x=this.backgroundWidth+this.x2/this.speed),this.x2<-this.backgroundWidth&&(this.x2=this.backgroundWidth+this.x/this.speed),this.x>this.backgroundWidth&&(this.x=-this.backgroundWidth+this.x2/this.speed),this.x2>this.backgroundWidth&&(this.x2=-this.backgroundWidth+this.x/this.speed),movingRight&&(this.x-=this.gameSpeed,this.x2-=this.gameSpeed),movingLeft&&(this.x+=this.gameSpeed,this.x2+=this.gameSpeed)}}}class BackgroundGrass{constructor(){this.image=new Image,this.image.src="grassBackground.png",this.gameSpeed=gameSpeed,this.speedMod=randomNumber(2.5,1.5),this.speed=this.speedMod*this.gameSpeed,this.backgroundWidth=4171,this.x=0,this.x2=this.backgroundWidth,this.y=innerHeight-70,this.width=innerWidth-70,this.height=innerHeight-480,this.draw=()=>{ctx.drawImage(this.image,this.x,this.y,innerWidth,this.height),ctx.drawImage(this.image,this.x2,this.y,innerWidth,this.height)},this.update=()=>{this.draw(),this.x<-this.backgroundWidth&&(this.x=this.backgroundWidth+this.x2/this.speed),this.x2<-this.backgroundWidth&&(this.x2=this.backgroundWidth+this.x/this.speed),this.x>this.backgroundWidth&&(this.x=-this.backgroundWidth+this.x2/this.speed),this.x2>this.backgroundWidth&&(this.x2=-this.backgroundWidth+this.x/this.speed),movingRight&&(this.x-=this.gameSpeed,this.x2-=this.gameSpeed),movingLeft&&(this.x+=this.gameSpeed,this.x2+=this.gameSpeed)}}}THROW_MSG(canvas.width/2,canvas.height/2,"Welcome To The Alien World Try Your Best To Survive","blue",4);var grassFloor=new BackgroundGrass,PLAYER_STATS_INFO,PLAYER_STATS_SHOOTING_ACCURACY,PLAYER_STATS_TELEPORT,numberOfTeleports=0,teleport=!1,teleported=!1;function CHECK_PLAYER_STATE(){requestAnimationFrame(CHECK_PLAYER_STATE),playingGame?GAME_GUI_SONG.pause():GAME_GUI_SONG.play()}function animate(){animateId=requestAnimationFrame(animate),worldSpeed++,playingGame=!0,ENEMY_STATS_INFO=new PlayerStatsInfo("Shots On Target: "+enemyKilled,"lime",120),PLAYER_STATS_INFO=new PlayerStatsInfo("Player-State: "+playerLifeState,"lime",150),PLAYER_STATS_SHOOTING_ACCURACY=new PlayerStatsInfo("Shooting-Accuracy: "+Math.floor(enemyKilled/400*100)+"%","blue",180),PLAYER_STATS_TELEPORT=new PlayerStatsInfo("Teleports: "+numberOfTeleports,"lime",210),player.x+player.width<0&&(player.x=innerWidth-player.width),player.x+player.width>canvas.width&&(player.x=0),player.y<0&&(player.y+=canvas.height+player.height),score>=10&&0==teleported&&(numberOfTeleports=1),1==teleported&&(teleported=!1);try{playingLevelOne&&score>=20&&(gameSpeed=7,bgLevel=2,playingLevelTwo=!0,playingLevelOne=!1,THROW_MSG(canvas.width/2,canvas.height/2,"Level One Up...","blue",2),init()),playingLevelTwo&&score>=40&&(gameSpeed=8,bgLevel=3,playingLevelTwo=!1,playingLevelThree=!0,THROW_MSG(canvas.width/2,canvas.height/2,"Level Two Up...","blue",2),init()),playingLevelThree&&score>=60&&(gameSpeed=10,bgLevel=4,playingLevelThree=!1,playingLevelFour=!0,THROW_MSG(canvas.width/2,canvas.height/2,"Level Three Up...","blue",2),init()),playingLevelFour&&score>=80&&(gameSpeed=12,bgLevel=5,playingLevelFour=!1,playingLevelFive=!0,THROW_MSG(canvas.width/2,canvas.height/2,"Level Four Up...","blue",2),init()),playingLevelFive&&score>=100&&(gameSpeed=13,bgLevel=6,playingLevelFive=!1,playingLevelSix=!0,THROW_MSG(canvas.width/2,canvas.height/2,"Level Five Up...","blue",2),init()),playingLevelSix&&score>=120&&(gameSpeed=14,bgLevel=7,playingLevelSix=!1,playingLevelSeven=!0,THROW_MSG(canvas.width/2,canvas.height/2,"Level Six Up...","blue",2),init()),playingLevelSeven&&score>=140&&(gameSpeed=15,bgLevel=8,playingLevelSeven=!1,playingLevelEight=!0,THROW_MSG(canvas.width/2,canvas.height/2,"Level Seven Up...","blue",2),init()),playingLevelEight&&score>=160&&(gameSpeed=15.5,bgLevel=9,playingLevelEight=!1,playingLevelNine=!0,THROW_MSG(canvas.width/2,canvas.height/2,"Level Eight Up...","blue",2),init()),playingLevelNine&&score>=180&&(gameSpeed=15.6,bgLevel=10,playingLevelNine=!1,playingLevelTen=!0,THROW_MSG(canvas.width/2,canvas.height/2,"Level Nine Up...","blue",2),init()),playingLevelTen&&score>=200&&(gameSpeed=15.7,bgLevel=11,playingLevelTen=!1,playingLevelEleven=!0,THROW_MSG(canvas.width/2,canvas.height/2,"Level Ten Up...","blue",2),init()),playingLevelEleven&&score>=220&&(gameSpeed=16,bgLevel=12,playingLevelEleven=!1,playingLevelTwelve=!0,THROW_MSG(canvas.width/2,canvas.height/2,"Level Eleven Up...","blue",2),init()),playingLevelTwelve&&score>=240&&(gameSpeed=20,bgLevel=12,playingLevelEleven=!1,playingLevelTwelve=!0,THROW_MSG(canvas.width/2,canvas.height/2,"Level Twelve Up Endless Mode....","blue",2),init())}catch(error){console.error("An error occurred during game processing.."),console.error(error.stack)}randomSpeed5++,randomSpeed4++,randomSpeed3++,randomSpeed++,randomSpeed2++,randomSpawnNumber1=randomNumber(6e3,4e3),randomNumber2=randomNumber(8e3,7e3),randomNumber3=randomNumber(3e3,2e3),randomNumber4=randomNumber(8e3,6e3),randomNumber5=randomNumber(1e4,8e3),1==playing&&(backgroundSong.play(),backgroundSong.volume=.5,backgroundSong.ended&&(backgroundSong.src=randomSong(songArray))),ctx.clearRect(0,0,innerWidth,innerHeight),bg.update(),scoreBox.innerHTML="SCORE: "+score,ctx.drawImage(grass,grassBackgroundX,innerHeight-70,innerWidth,innerHeight-480),player.update(),playerStats.update(),hoverBoard.update(),playerCollideHoverBoard=!1,gameObjectColliding(player,hoverBoard)&&(player.y=hoverBoard.y-100,hoverBoard.y-=hoverBoard.velocity.dy,playerCollideHoverBoard=!0),(hoverBoard.y+hoverBoard.height>canvas.height||hoverBoard.y-hoverBoard.height-player.height<0)&&(hoverBoard.y+=hoverBoard.velocity.dx),playerCollideHoverBoard||hoverBoard.reposition(),playerCollideHoverBoard||0!=player.move.up||player.reposition(),monsters.forEach((monster,monsterIndex)=>{monster.update(),monster.x+monster.width>canvas.width+110&&monsters.splice(monsterIndex,1),gameObjectColliding(monster,player)?(playerHarmed=!0,lifeBar.width--):playerHarmed=!1,gameObjectColliding(player,monster)&&5==player.frameNumber&&(monster.velocity.dx=2*-monster.velocity.dx,setTimeout(()=>{monster.velocity.dx=5},100))}),enemies.forEach((enemy,enemyIndex)=>{enemyLifeBar.x=enemy.x+enemy.reposition.x,enemyLifeBar.y=enemy.y-enemy.reposition.y,enemy.update(),enemyLifeBar.update(),enemy.x+enemy.width<0&&enemies.splice(enemyIndex,1),playerHarmed=!!gameObjectColliding(enemy,player),gameObjectColliding(player,enemy)&&5==player.frameNumber&&(enemy.velocity.dx=2*-enemy.velocity.dx,setTimeout(()=>{enemy.velocity.dx=5},100))}),ENEMY_STATS_INFO.update(),PLAYER_STATS_INFO.update(),PLAYER_STATS_SHOOTING_ACCURACY.update(),PLAYER_STATS_TELEPORT.update(),playerHarmed&&(deadSound.play(),lifeBar.width--,lifeBar.width<135&&(playerLifeState="Injured..",lifeBar.color="red"),lifeBar.width<=0&&(THROW_MSG(canvas.width/2,canvas.height/2,"Game Over You Couldn't Kill A Damn Alien !!!","red",3),monsters.forEach((monster,monsterIndex)=>{monsters.splice(monsterIndex,1)}),birds.forEach((bird,birdIndex)=>{birds.splice(birdIndex,1)}),planes.forEach((plane,planeIndex)=>{planes.splice(planeIndex,1)}),enemies.forEach((enemy,enemyIndex)=>{enemies.splice(enemyIndex,1)}),cancelAnimationFrame(animateId),document.body.style.fontFamily="corbel",scoreBox.style.display="none",changeHighScore(),setTimeout(()=>{swal.fire({title:"Game Over",text:"YOU ARE DEAD, YOU WERE KILLED BY THE ALIEN...",icon:"info",timer:2e4,showCloseButton:!0,showCancelButton:!0,footer:"Powered By EmmSoft Games EG<sup>TM</sup>"}).then(willProceed=>{willProceed&&swal.fire({title:score,text:"You Score Is .... "+score,timer:1e4,showCloseButton:!0,showCancelButton:!0,footer:"Powered By EmmSoft Games EG<sup>TM</sup>"}).then(willProceed=>{location.reload()})})},1e3))),powerUps.forEach((powerUp,powerUpIndex)=>{if(powerUp.update(),gameObjectColliding(player,powerUp)&&(playPowerUpSound(),powerUp.taken=!0,powerUp.velocity.dx=0,setTimeout(()=>{powerUp.taken=!1,setTimeout(()=>{powerUps.splice(powerUpIndex,1)},0)},0)),powerUp.powerUpType.AI&&powerUp.taken,powerUp.powerUpType.Boost&&powerUp.taken&&(player.GLOBAL_SPEED=randomNumber(3,2),bullets.forEach(bullet=>{bullet.velocity.dx=BULLET_POWERUP_SPEED}),setTimeout(()=>{player.GLOBAL_SPEED=2,bullets.forEach(bullet=>{bullet.velocity.dx=gameSpeed*randomNumber(5,3)})},5e3)),powerUp.powerUpType.Upgrade&&powerUp.taken){lifeBar.width<100&&(lifeBar.color="blue",lifeBar.width=270,playerLifeState="Active..");var upgradeValue=randomNumber(20,10);score+=upgradeValue}if(powerUp.powerUpType.Replenish&&powerUp.taken){lifeBar.width<175&&(lifeBar.width=270,lifeBar.color="blue",playerLifeState="Active.."),player.GLOBAL_SPEED=randomNumber(3,3),setTimeout(()=>{player.GLOBAL_SPEED=2},5e3);var scoreIncrementor=randomNumber(.1,.1);score+=Math.floor(scoreIncrementor)}if(powerUp.powerUpType.ScoreIncrement&&powerUp.taken){var scoreIncrementor=randomNumber(.2,.2);score+=Math.floor(scoreIncrementor)}}),playerLogo.update(),msgs.forEach((msg,msgIndex)=>{msg.update(),msg.y<0&&msgs.splice(msgIndex,1)}),lifeBar.update(),bullets.forEach((bullet,bulletIndex)=>{bullet.update()}),birds.forEach((bird,birdIndex)=>{bird.update()}),explosions.forEach((explosion,explosionIndex)=>{explosion.update()}),planes.forEach((plane,planeIndex)=>{plane.update()}),ravens.forEach((raven,ravenIndex)=>{raven.update()}),grassMonsters.forEach((grassMonster,grassMonsterIndex)=>{grassMonster.update()}),bullets.forEach((bullet,bulletIndex)=>{enemies.forEach((enemy,enemyIndex)=>{gameObjectColliding(bullet,enemy)&&(shot=!0,spawnExplosion(enemy.x,enemy.y),setTimeout(()=>{setTimeout(()=>{explosions.forEach((explosion,explosionIndex)=>{explosions.splice(explosionIndex,1)})},300),bullets.splice(bulletIndex,1),player.shooting&&0==enemy.dead&&(enemyLifeBar.width-=25),enemyLifeBar.width<40&&(enemyLifeBar.color="red"),0==enemyLifeBar.width&&(enemyLifeBar.width=0,enemy.dead=!0,enemyKilled++,enemy.velocity.dx=0,setTimeout(()=>{enemyLifeBar.x=void 0,enemyLifeBar.y=void 0},2e3),enemy.dead&&(enemies.splice(enemyIndex,1),THROW_MSG(enemy.x,enemy.y,"+5","white",15),score+=5))},0))}),planes.forEach((plane,planeIndex)=>{gameObjectColliding(bullet,plane)&&(spawnExplosion(plane.x,plane.y),setTimeout(()=>{setTimeout(()=>{explosions.forEach((explosion,explosionIndex)=>{explosions.splice(explosionIndex,1)})},400),bullets.splice(bulletIndex,1),planes.splice(planeIndex,1),score+=5,THROW_MSG(plane.x,plane.y,"+5","white",10)},0))}),birds.forEach((bird,birdIndex)=>{gameObjectColliding(bullet,bird)&&(spawnExplosion(bird.x,bird.y),setTimeout(()=>{setTimeout(()=>{explosions.forEach((explosion,explosionIndex)=>{explosions.splice(explosionIndex,1)})},400),bullets.splice(bulletIndex,1),birdSoundDead.play(),bird.dead=!0,birdSoundFlying.pause()},0)),bird.x+bird.width>canvas.width&&(birds.splice(birdIndex,1),birdSoundFlying.pause()),bird.dead&&(birds.splice(birdIndex,1),score+=5,THROW_MSG(bird.x,bird.y,1,"+5","white",15))}),monsters.forEach((monster,monsterIndex)=>{gameObjectColliding(bullet,monster)&&(spawnExplosion(monster.x,monster.y),setTimeout(()=>{setTimeout(()=>{explosions.forEach((explosion,explosionIndex)=>{explosions.splice(explosionIndex,1)})},300),monsters.splice(monsterIndex,1),bullets.splice(bulletIndex,1),monster.dead=!0,score+=5,enemyKilled++,THROW_MSG(monster.x,monster.y,"+5","white",15)},0))})})}function spawnBullets(){for(let i=0;i<1;i++)bullets.push(new Bullet)}addEventListener("keydown",e=>{switch(e.keyCode){case 32:(player.move.right||player.move.left)&&(player.frameNumber=0),spawnBullets(),player.shooting=!0;break;case 84:numberOfTeleports>0&&(init(),player.x=innerWidth-player.width,numberOfTeleports-=1,teleported=!0)}}),setInterval(()=>{randomSpawnNumber1=randomNumber(6e3,4e3),randomNumber2=randomNumber(12e3,9e3),randomNumber3=randomNumber(3e3,2e3),randomNumber4=randomNumber(35e3,3e4),randomNumber5=randomNumber(3e4,25e3),console.clear()},1e3),CHECK_PLAYER_STATE();